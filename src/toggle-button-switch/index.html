<!doctype html>
<html lang="en" class="no-js">
	<head>
		<meta charset="utf-8">
		<title>
			Switch Component: Toggle Button
		</title>
		<meta name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<script>
			// remove no-js and add 'js' to the HTML
			document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
		</script>
		<link rel="stylesheet" href="../assets/css/--demo-only--.css">
		<link rel="stylesheet" href="../assets/css/--shared--.css">
		<link rel="stylesheet" href="../assets/css/switch--toggle-button.css">
	</head>
	<body>

		<div class="demo-wrap">

			<header class="demo-wrap__header">
				<h1>Switch Component: Toggle Button</h1>
				<p>
					Pattern to create a toggle <code>button</code>,
					visually styled to resemble a <code>switch</code> component.
				</p>
				<nav>
					<a href="https://github.com/scottaohara/a11y_styled_form_controls">See source on GitHub</a>,
					<a href="/a11y_styled_form_controls">Index of form controls</a>
				</nav>
			</header>

			<main>

				<article class="demo">
					<h2>
						Pattern Demo
					</h2>

					<a data-toggle-btn>
						ARIA
					</a>

					<button type="button" data-toggle-btn data-toggle-btn-pressed data-toggle-btn-labels disabled>
						Native
					</button>


					<details style="margin-top: 1em;">
						<summary>Visual design note</summary>
						<div>
							<p>
								Switch toggle buttons are commonly represented as a visual text label and a switch UI, or as a text label with a switch UI that has its own "On" and "Off" labeling.
							</p>
							<p>
								By default, the component outputs the unlabeled knob UI.  Using the attribute <code>data-toggle-btn-labels</code> or manually adding a class of <code>toggle-switch--labels</code>, the component will add labels to the
							</p>
						</div>
					</details>


					<section class="demo-details">
						<h3>
							Pattern Details
						</h3>

						<details open>
							<summary>Pattern Markup</summary>
								<pre><code>&lt;a data-toggle-btn>
  Progressively Enhanced Toggle
&lt;/a>

&lt;button type="button"
  data-toggle-btn
  data-toggle-btn-labels
  data-toggle-btn-pressed
  disabled>
  Native Button Toggle
&lt;/button></code></pre>
						</details>

						<p>
							...
						</p>

						<h4>The JavaScript</h4>
						<p>
							Largely the JavaScript for this component is in place to modify the state of the toggle button, when a user engages with it.  Any additional functionality for a "switch toggle button" would be custom and unique to the interface it was used within, and thus needs to be added by the developer implementing the component.
						</p>

						<h4>Affects on Screen Reader Announcements?</h4>
						<p>
							When a <code>button</code> or <code>role="button"</code> has an <code>aria-pressed</code> attribute, it will be announced by screen readers as a "toggle button".  While not the same as announcing "Switch", the general concept of these two components is similar, and the <code>aria-pressed</code> attribute has far better support across all browsers and screen readers.
						</p>

						<p>
							Along with the shift in announcement from <q>button</q> to <q>toggle button</q>, screen readers will also announce the current state of the element. The following definition list details the announcements for each screen reader and browser pairing:
						</p>

						<dl>
							<dt>VoiceOver + Safari 11.1.1 on macOS High Sierra</dt>
							<dd>
								<p>
									When not selected, the toggle button is announced as:<br> <q>[Accessible Name], toggle button. To select or deselect this checkbox, press control-option-space.</q>
								</p>
								<p>
									If activated, the word "selected" will be announced prior to the accessible name of the toggle button.  When toggling the toggle button, VoiceOver will announce "selected" or "deselected" prior to "toggle button".
								</p>
								<p>
									Note: the announcement of "checkbox" by VoiceOver is odd.
								</p>
							</dd>
						</dl>

						<h5>Usage note:</h5>
						<p>
							Ideally a <code>button</code> or <code>input type="checkbox"</code> with a <code>role="switch"</code> would be used when creating a "switch" component. But until all popular browsers and assistive technologies correctly interpret <code>role="switch"</code>, it would be best to convey this component as a toggle button.
						</p>

					</section> <!-- /.demo-details -->
				</article>
			</main>
		</div> <!-- /.demo-wrap -->

		<script src="../assets/js/switch-toggle-button.js"></script>

	</body>
</html>
