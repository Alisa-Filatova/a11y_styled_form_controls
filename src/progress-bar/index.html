<!doctype html>
<html lang="en" class="no-js">
	<head>
		<meta charset="utf-8">
		<title>
			Styled Progress Bar
		</title>
		<meta name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<script>
			// remove no-js and add 'js' to the HTML
			document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
		</script>
		<link rel="stylesheet" href="../assets/css/--demo-only--.css">
		<link rel="stylesheet" href="../assets/css/--shared--.css">
		<link rel="stylesheet" href="../assets/css/progress-bar.css">
	</head>
	<body>

		<div class="demo-wrap">

			<header class="demo-wrap__header">
				<p class="demo-wrap__header__title">
					Accessible Styled Form Controls
				</p>
				<nav>
					<a href="https://github.com/scottaohara/a11y_styled_form_controls">See source on GitHub</a>,
					<a href="/a11y_styled_form_controls">Index of styled form controls</a>
				</nav>
			</header>

			<main aria-label="content">
				<article class="demo">
					<header>
						<h1>Styled Progress Bar</h1>
						<p>Last updated: <time>July 26, 2018</time></p>
						<p>
							Cross-browser styling for the HTML progress bar.
						</p>
					</header>

					<h2>
						Pattern Demo
					</h2>

					<div class="progress-meter-example">
						<label for="tasks_comp">
							Tasks Completed:
							<progress id="tasks_comp" value="50" max="100"></progress>
						</label>
					</div>

					<div class="progress-meter-example">
						<span id="file_status">
							File Uploaded:
						</span>
						<progress aria-labelledby="file_status" value="70" max="100"></progress>
					</div>

					<div class="progress-meter-example">
						<progress aria-label="Delivery Status" value="80" max="100"></progress>
					</div>

					<section class="demo-details">
						<h3>
							Pattern Details
						</h3>

						<details open>
							<summary>Pattern Markup</summary>
							<pre><code class="language-html">&lt;label for="tasks_comp">
	Tasks Completed:
	&lt;progress id="tasks_comp" value="50" max="100">&lt;/progress>
&lt;/label>

&lt;span id="file_status">
	File Uploaded:
&lt;/span>
&lt;progress aria-labelledby="file_status" value="70" max="100">&lt;/progress>

&lt;progress aria-label="Delivery Status" value="80" max="100">&lt;/progress></code></pre>

						</details>

						<p>
							Unlike many other form controls, a <code>progress</code> element is cannot be directly modified by a user, though a <code>progress</code> element is often used to indicate the completion status of a task initiated by a user.
						</p>
						<p>
							A task can refer to user flows, like a user's current progress in a sign up flow, or a task being performed by an application, or server. For example, using a progress bar to indicate the application updating after a form submission, or indicating the progress of a file upload within an application's UI.
						</p>

						<p>
							For indicating the state of a finite gauge, such as available diskspace, a <a href="../meter"><code>meter</code></a> would be more appropriate.
						</p>

						<h4>Styling a <code>progress</code> element</h4>

						<p>
							The <code>progress</code> element has support in all modern browsers, including Internet Explorer. The only catch to styling it is it requires the use of vendor prefixed selectors. Though, compared to the <a href="../range-slider"><code>range</code> element</a>, there aren't that many to worry about.
						</p>

						<p>Largely the prefixed selectors to be concerned with are the following:</p>

						<dl>
							<dt><code>::-webkit-progress-bar</code></dt>
							<dd>why...</dd>
							<dt><code>::-ms-fill</code></dt>
							<dd>why...</dd>
							<dt><code>::-moz-progress-bar</code></dt>
							<dd>why...</dd>
							<dt><code>::-webkit-progress-value</code></dt>
							<dd>why...</dd>
						</dl>

						<p>
							Additionally there are the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/::-webkit-progress-inner-element" title="on MDN web docs"><code>::-webkit-progress-inner-element</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:indeterminate" title="on MDN web docs"><code>:indeterminate</code></a> selectors. But they are not used for the styled <code>progress</code> elements shown here.
						</p>

						<h4>Affects on Screen Reader Announcements?</h4>

						<p>
							Styling a <code>progress</code> element should have no affect on a screen reader's announcement of it. Though the markup you use to setup your progress bar may alter how the progress bar is announced.  The patterns showcased here present the best support for screen readers.
						</p>

						<p>
							It's best to just use the native element as is,
						</p>

						PROVIDE BREAKDOWN OF SCREEN READER ANNOUNCEMENTS HERE



						using aria-label / aria-labelledby on a progress turns it into a "group" with voiceover.  the label will be applied to the progress element, but it will then require a separate focus stop to announce the progress, after the accessible name.

						VO + Chrome on macOS needs aria to convey progress bar status


						Note: if a <code>progress</code> element contains a fallback value, e.g. <code>&lt;progress value="50" max="100">50%&lt;/progress></code>, then Safari + VoiceOver on macOS will announce the progress bar as a <code>role="group"</code>, if you give it an <code>aria-label</code> or <code>aria-labelledby</code>. If it contains no fallback value, VoiceOver will not announce it as a group.

					</section>
				</article> <!-- /.demo -->
			</main>
		</div> <!-- /.demo-wrap -->
		<script>
			var highlighterCSS = function () {
			  var head = document.head;
			  var link = document.createElement('link');

			  link.rel = 'stylesheet';
			  link.href = '../assets/vendor/prism.css';

			  head.appendChild(link);
			}

			highlighterCSS();
		</script>
		<script src="../assets/vendor/prism.js"></script>
	</body>
</html>
