<!doctype html>
<html lang="en" class="no-js">
	<head>
		<meta charset="utf-8">
		<title>
			Styled Radio Button Pills
		</title>
		<meta name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<script>
			// remove no-js and add 'js' to the HTML
			document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
		</script>
		<link rel="stylesheet" href="../assets/css/--demo-only--.css">
		<link rel="stylesheet" href="../assets/css/--shared--.css">
		<link rel="stylesheet" href="../assets/css/radio--pill.css">
		<style>
			form + form {
				margin-top: 1.25em;
			}
		</style>
	</head>

	<body>

		<div class="demo-wrap">

			<header class="demo-wrap__header">
				<p class="demo-wrap__header__title">
					Accessible Styled Form Controls
				</p>
				<nav>
					<a href="https://github.com/scottaohara/a11y_styled_form_controls">See source on GitHub</a>,
					<a href="/a11y_styled_form_controls">Index of styled form controls</a>
				</nav>
			</header>

			<main aria-label="content">

				<article class="demo">
					<header>
						<h1>Styled Radio Button Pills</h1>
						<p>Last updated: <time>July 26, 2018</time></p>
						<p>
							Pattern to restyle a radio button group into a selection pill.
						</p>
					</header>
					<h2>
						Pattern Demo
					</h2>

					<form method="post" action="#">
						<fieldset class="radio-pill">
							<legend>
								Group Title
							</legend>

							<div class="radio-pill__group">
								<input type="radio" id="r1" name="radios" checked>
								<label for="r1">Option 1</label>

								<input type="radio" id="r2" name="radios">
								<label for="r2">Option 2</label>

								<input type="radio" id="r3" name="radios">
								<label for="r3">Option 3</label>
							</div>
						</fieldset>
					</form>

					<form method="post" action="#">
						<fieldset class="radio-pill">
							<legend>
								Show:
							</legend>

							<div class="radio-pill__group">
								<input type="radio" id="r1a" name="radios_2" checked>
								<label for="r1a">All</label>

								<input type="radio" id="r3a" name="radios_2">
								<label for="r3a">Many</label>

								<input type="radio" id="r2a" name="radios_2">
								<label for="r2a">Some</label>

								<input type="radio" id="r2aa" name="radios_2" disabled>
								<label for="r2aa">Few</label>
							</div>
						</fieldset>
					</form>

					<form method="post" action="#">
						<fieldset class="radio-pill" disabled>
							<legend>
								Show:
							</legend>

							<div class="radio-pill__group">
								<input type="radio" id="r1ab" name="radios_2" checked>
								<label for="r1ab">All</label>

								<input type="radio" id="r3ab" name="radios_2">
								<label for="r3ab">Many</label>

								<input type="radio" id="r2ab" name="radios_2">
								<label for="r2ab">Some</label>

								<input type="radio" id="r2aab" name="radios_2">
								<label for="r2aab">Few</label>
							</div>
						</fieldset>
					</form>

					<section class="demo-details">
						<h3>
							Pattern Details
						</h3>

						<details open>
							<summary>Pattern Markup</summary>
								<pre><code>&lt;fieldset class="radio-pill">
  &lt;legend>Group Title&lt;/legend>

  &lt;div class="radio-pill__group">
    &lt;input type="radio" id="r1" name="radios" checked>
    &lt;label for="r1">Option 1&lt;/label>

    &lt;input type="radio" id="r2" name="radios">
    &lt;label for="r2">Option 2&lt;/label>
  &lt;/div>
&lt;/fieldset></code></pre>
						</details>

						<p>
							As with the <a href="https://scottaohara.github.io/a11y_styled_form_controls/src/radio-button/">styled radio buttons</a> pattern, the radio button pills also utilize visually hidden native HTML radio buttons as the cornerstone for providing the necessary semantics and user experience for keyboard users, and the accessibility <abbr>API</abbr>.
						</p>

						<p>
							The radio buttons are wrapped in a <code>fieldset</code> element. The presence of the <code>fieldset</code> element groups the radio buttons and programmatically communicates that they are functionally interdependent. The <code>legend</code> element provides a description of the grouped radio buttons' purpose.
						</p>

						<p>
							If it makes sense for the grouping of radio buttons to be called out in the document outline, then the <code>legend</code> can incorporate an appropriately ranked heading element (e.g. <code>h3</code>).
						</p>

						<p>
							The form control with the <code>checked</code> attribute applied to it will trigger a <abbr>CSS</abbr> selector that visually updates the appearance of the sibling <code>label</code> associated with it, indicating that it is the selected option. As there is no way to deselect a radio button, without also resetting an entire form or including a radio button option specifically to indicate a "no selection", a radio button pill should always have a radio button set with a default <code>checked</code> attribute.
						</p>

						<p>
							A selector targeting the last <code>label</code>'s <code>:after</code> pseudo-element will create an outline around the entire component to indicate it has keyboard focus and can be interacted with.
						</p>

						<h4>Affects on Screen Reader Announcements?</h4>

						<p>
							Since the native radio buttons remains in the DOM, and are used as the focusable elements that control the state of their custom visualization, there are no alterations to how a screen reader announces styled radio buttons.
						</p>

						<p>
							Note that screen readers, like JAWS and NVDA, may automatically go into forms mode, or require a user to hit <kbd>Enter</kbd> or <kbd>Space</kbd> to change form the virtual cursor to forms mode, when a radio button is highlighted. Once in forms mode the arrow keys can be used to select the different radio buttons, as expected.
						</p>

						<p>
							VoiceOver on macOS may begin to focus the radio button labels when using arrow keys to change the selected radio button. This issue does not exist in VoiceOver + Chrome and is not necessarily unique to this particular styling of radio buttons.
						</p>

						<h4>Usage note</h4>
						<p>
							Radio buttons are meant to indicate a group of single choice options, typically part of a larger form area of a document.
						</p>

						<p>
							It may be considered a <a href="https://www.w3.org/TR/UNDERSTANDING-WCAG20/consistent-behavior-unpredictable-change.html"><abbr>WCAG</abbr> 3.2.2, On Input</a>, violation to change state of an interface when interacting with an <code>input</code> that is not announced as a "button" (e.g. <code>button</code> or <code>input</code> with a <code>type</code> value of <code>button</code>, <code>reset</code> or <code>submit</code>), without giving adequate notice of what change will occur, and depending on if the change cannot be easily reversed.
						</p>

						<p>
							This pattern may be perfectly acceptable to use in the context of a form, or outside of a form as a <abbr>UI</abbr> changing component, as long as reverting state is a simple process for the user, and the user is aware of the effect the state change will have on the UI.
						</p>

						<p>
							Alternatively, a grouping of <code>button</code> elements that are aware of each other's state, and utilize <code>aria-pressed="true/false"</code> to indicate their own state, may be more appropriate to use as an instant document state-changing component.
						</p>

					</section> <!-- /.demo-details -->
				</article> <!-- /.demo -->
			</main>
		</div> <!-- /.demo-wrap -->

	</body>
</html>

